<section class="section-heading">
  <h1 class="heading-primary">
    Register
  </h1>
</section>
<section class="register-form">
  <form #form="ngForm" (ngSubmit)="formSubmitted()">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" name="name" [(ngModel)]="user.name">
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" name="email" [(ngModel)]="user.email">
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password" name="password" [(ngModel)]="user.password">
    </div>

    <div class="form-group">
      <label for="address">Your Address</label>
      <input type="text" class="form-control" id="address" name="address"
             placeholder="Istanbul, Turkiye"
             (selectItem)="onAddressSelect($event)"
             [(ngModel)]="user.address"
             [inputFormatter]="addressFormatter"
             [resultFormatter]="addressFormatter"
             [ngbTypeahead]="addressSearch.bind(this)"/>
    </div>
    <div class="form-group">
      <label for="latitude">Latitude</label>
      <input type="text" class="form-control" id="latitude" name="latitude"
             [(ngModel)]="user.latitude">
    </div>
    <div class="form-group">
      <label for="longitude">Longitude</label>
      <input type="text" class="form-control" id="longitude" name="longitude"
             [(ngModel)]="user.longitude">
    </div>
    <agm-map [latitude]="user.latitude" [longitude]="user.longitude">
      <agm-marker
        *ngIf="user.latitude && user.longitude"
        [latitude]="user.latitude"
        [longitude]="user.longitude"
        [markerDraggable]="true"
        (dragEnd)="markerDragged($event)">
      </agm-marker>
    </agm-map>

    <div class="form-group">
      <label for="userThumb">Choose a profile picture</label>
      <input type="file" class="form-control-file" id="userThumb" (change)="onSelectThumb($event)">
    </div>

    <div>
      <a href="#" (click)="$event.preventDefault(); user.restaurant = true;" *ngIf="!user.restaurant">This is a
        restaurant account</a>
      <a href="#" (click)="$event.preventDefault(); user.restaurant = false;" *ngIf="user.restaurant">Create user account</a>
    </div>
    <button type="submit" class="btn btn-primary" style="margin-top: 1rem;">Submit</button>
    <a [routerLink]="'/login'" class="login-link">Login</a>
  </form>
</section>
