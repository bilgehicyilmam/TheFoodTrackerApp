<section class="section-heading">
  <h1 class="heading-primary">
    Register
  </h1>
</section>
<section class="register-form">
  <form #form="ngForm" (ngSubmit)="formSubmitted()">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" name="name" [(ngModel)]="user.name">
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control" id="email" name="email" [(ngModel)]="user.email">
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password" name="password" [(ngModel)]="user.password">
    </div>

    <div class="form-group">
      <label for="address">Your Address</label>
      <input type="text" class="form-control" id="address" name="address"
             placeholder="Istanbul, Turkiye"
             (selectItem)="onAddressSelect($event)"
             [(ngModel)]="user.address"
             [inputFormatter]="addressFormatter"
             [resultFormatter]="addressFormatter"
             [ngbTypeahead]="addressSearch.bind(this)"/>
    </div>
    <div class="form-group">
      <label for="latitude">Latitude</label>
      <input type="text" class="form-control" id="latitude" name="latitude"
             [(ngModel)]="user.latitude">
    </div>
    <div class="form-group">
      <label for="longitude">Longitude</label>
      <input type="text" class="form-control" id="longitude" name="longitude"
             [(ngModel)]="user.longitude">
    </div>
    <agm-map [latitude]="user.latitude" [longitude]="user.longitude">
      <agm-marker
        *ngIf="user.latitude && user.longitude"
        [latitude]="user.latitude"
        [longitude]="user.longitude"
        [markerDraggable]="true"
        (dragEnd)="markerDragged($event)">
      </agm-marker>
    </agm-map>

    <br>
    <label>Choose food preferences</label>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="vegan" (change)="onTagChange($event, 'Vegan')">
      <label class="form-check-label" for="vegan" style="margin-left: 0.8rem;">Vegan</label>
    </div>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="Vegetarian" (change)="onTagChange($event, 'Vegetarian')">
      <label class="form-check-label" for="Vegetarian" style="margin-left: 0.8rem;">Vegetarian</label>
    </div>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="Gluten-free" (change)="onTagChange($event, 'Gluten-free')">
      <label class="form-check-label" for="Gluten-free" style="margin-left: 0.8rem;">Gluten Free</label>
    </div>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="LactoseFree" (change)="onTagChange($event, 'Lactose Free')">
      <label class="form-check-label" for="LactoseFree" style="margin-left: 0.8rem;">Lactose Free</label>
    </div>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="SugarFree" (change)="onTagChange($event, 'Sugar Free')">
      <label class="form-check-label" for="SugarFree" style="margin-left: 0.8rem;">Sugar Free</label>
    </div>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="LowSalt" (change)="onTagChange($event, 'Low Salt')">
      <label class="form-check-label" for="LowSalt" style="margin-left: 0.8rem;">Low Salt</label>
    </div>
    <div class="form-check">
      <input type="checkbox" class="form-check-input" id="Diabetic" (change)="onTagChange($event, 'Diabetic')">
      <label class="form-check-label" for="Diabetic" style="margin-left: 0.8rem;">Diabetic</label>
    </div>
    <br>

    <div class="form-group">
      <label for="password" class="control-label">Specify foods that you are allergic</label>
      <div>
        <input class="form-control" type="text">
      </div>
    </div>

    <div class="form-group">
      <label for="userThumb">Choose a profile picture</label>
      <input type="file" class="form-control-file" id="userThumb" (change)="onSelectThumb($event)">
    </div>

    <div>
      <a href="#" (click)="$event.preventDefault(); user.restaurant = true;" *ngIf="!user.restaurant">This is a
        restaurant account</a>
      <a href="#" (click)="$event.preventDefault(); user.restaurant = false;" *ngIf="user.restaurant">Create user account</a>
    </div>
    <button type="submit" class="btn btn-primary" style="margin-top: 1rem;">Submit</button>
    <a [routerLink]="'/login'" class="login-link">Login</a>
  </form>
</section>
